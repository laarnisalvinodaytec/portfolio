if (self.CavalryLogger) { CavalryLogger.start_js(["I19s+"]); }

__d("keyCommandBackspaceEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){__p&&__p();var c=b("removeTextWithStrategy")(a,function(c){__p&&__p();var a=c.getSelection(),d=a.getAnchorOffset();a=c.getCurrentContent().getBlockForKey(a.getAnchorKey()).getText();var e=a[d-1],f=null;if(e){a=b("EmojiRenderer").parse(a);for(var g=0;g<a.length;g++)if(a[g].offset<d&&a[g].offset+a[g].length>=d){f=a[g].length;break}f||(f=b("UnicodeUtils").getUTF16Length(e,0))}return b("moveSelectionBackward")(c,f||1)},"backward");if(c===a.getCurrentContent())return null;var d=a.getSelection();return b("EditorState").push(a,c.set("selectionBefore",d),d.isCollapsed()?"backspace-character":"remove-range")};e.exports=a}),null);
__d("keyCommandDeleteEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){__p&&__p();var c=b("removeTextWithStrategy")(a,function(c){__p&&__p();var a=c.getSelection(),d=a.getAnchorOffset();a=c.getCurrentContent().getBlockForKey(a.getAnchorKey()).getText();var e=a[d],f=null;if(e){a=b("EmojiRenderer").parse(a);for(var g=0;g<a.length;g++)if(a[g].offset<=d&&a[g].offset+a[g].length>d){f=a[g].length;break}f||(f=b("UnicodeUtils").getUTF16Length(e,0))}return b("moveSelectionForward")(c,f||1)},"forward");if(c===a.getCurrentContent())return null;var d=a.getSelection();return b("EditorState").push(a,c.set("selectionBefore",d),d.isCollapsed()?"delete-character":"remove-range")};e.exports=a}),null);
__d("TextDelightInputDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=".",i="delight";function a(a,b){this.__installedDecorators={textDelightsDecorator:!0},this.$2=a,this.$1=b,b&&Object.assign(this.__installedDecorators,b.__installedDecorators)}a.prototype.getDecorations=function(a,b){var c=this.$1?this.$1.getDecorations(a,b).toArray():Array(a.getText().length).fill(null),d=0,e=this.$2.strategy,f=function(a,b){j(c,a,b)&&(k(c,a,b,i+h+d),d++)};e(a,f,b);return g(c)};a.prototype.getComponentForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.component:this.$1.getComponentForKey(a)};a.prototype.getPropsForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.props:this.$1.getPropsForKey(a)};function j(a,b,c){for(var b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function k(a,b,c,d){for(var b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("TextDelightSpan.react",["cx","Bootloader","React","SubscriptionsHandler","TextDelightInComposerGating","TextDelightInComposerLogger","createObjectFrom"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=!1,this.$3=new(b("SubscriptionsHandler"))(),this.$4=function(){var a=this.props.contentState.getEntity(this.props.entityKey).getData();b("TextDelightInComposerLogger").rangeTapped(a.funnelKey,a.campaignID,a.keyword,a.surface)}.bind(this),this.$5=function(){var a=this.props.contentState.mergeEntityData(this.props.entityKey,{disabled:!0});a=a.getEntity(this.props.entityKey).getData();b("TextDelightInComposerLogger").optOutTapped(a.funnelKey,a.campaignID,a.keyword,a.surface);this.props.onXOut&&this.props.onXOut(a);this.props.triggerChange&&this.props.triggerChange()}.bind(this),c}a.prototype.componentDidMount=function(){"use strict";__p&&__p();this.$2=!0;var a=this.props.contentState.getEntity(this.props.entityKey).getData();if(a.disabled)return;var c=a.campaignID;c&&b("Bootloader").loadModules(["TextDelightController"],function(b){if(this.$2===!1)return;this.$3.addSubscriptions(b.attachClickListener(this.$1,c,this.props.decoratedText,a.surface,this.$4))}.bind(this),"TextDelightSpan.react")};a.prototype.componentWillUnmount=function(){"use strict";this.$2=!1,this.$3.release()};a.prototype.render=function(){"use strict";__p&&__p();var a=this.props.contentState.getEntity(this.props.entityKey).getData();if(a.disabled)return this.props.children;var c=a.styles,d=Object.keys(c);d=b("createObjectFrom")(d.map(function(a){return a.replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})}),d.map(function(a){return c[a]}));a=b("TextDelightInComposerGating").isXbuttonEnabled(a.surface);var e=null;a&&(e=b("React").createElement("span",{role:"link",tabIndex:-1,className:"_6854",onClick:this.$5}));return b("React").createElement("span",babelHelpers["extends"]({},this.props,{style:d,"data-offset-key":this.props.offsetKey,className:"_3yzm",spellCheck:!1}),b("React").createElement("span",{className:"_2k9q",ref:function(a){this.$1=a}.bind(this)},this.props.children),e)};e.exports=a}),null);
__d("keyCommandBackspaceDelight",["EditorState","TextDelightInComposerLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed())return null;var d=c.getStartKey(),e=a.getCurrentContent();d=e.getBlockForKey(d);if(c.getAnchorOffset()===0)return null;var f=d.getEntityAt(c.getAnchorOffset()-1);if(!f)return null;var g=e.getEntity(f);if(g.getType()!=="DELIGHT")return null;if(g.getData().disabled)return null;if(d.getEntityAt(c.getAnchorOffset())===f)return null;e.mergeEntityData(f,{disabled:!0});g=e.getEntity(f).getData();b("TextDelightInComposerLogger").optOutBackspace(g.funnelKey,g.campaignID,g.keyword,g.surface);return b("EditorState").forceSelection(a,c)};e.exports=a}),null);
__d("addTextDelightInputImpl",["Bootloader","EditorState","React","TextDelightConfig","TextDelightInComposerGating","TextDelightInputDecorator","TextDelightSpan.react","TextDelightSurface","getEntityMatcher","keyCommandBackspaceDelight"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("TextDelightConfig").composerOptions,h=null;a=function(a,c){__p&&__p();return function(){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){__p&&__p();var a,d;for(var f=arguments.length,h=new Array(f),i=0;i<f;i++)h[i]=arguments[i];return d=(a=e.constructor).call.apply(a,[this].concat(h)),this.$1=function(a,d){__p&&__p();if(!b("TextDelightInComposerGating").isBackspaceEnabled(c))return"not-handled";var e=null;switch(a){case"backspace":e=b("keyCommandBackspaceDelight")(d);break}if(e){this.props.onChange(e);return"handled"}return this.props.handleKeyCommand?this.props.handleKeyCommand(a,d):"not-handled"}.bind(this),this.$2=null,this.$3=function(a){this.$2&&clearTimeout(this.$2),this.props.onChange&&this.props.onChange(a),a.getCurrentContent().hasText()&&g.autoHighlightThresholdMs>0&&(this.$2=setTimeout(function(){this.$4()}.bind(this),g.autoHighlightThresholdMs))}.bind(this),this.$5=function(){var a=this.props.editorState;this.$3(b("EditorState").create({currentContent:a.getCurrentContent(),decorator:a.getDecorator(),selection:a.getSelection()}))}.bind(this),d}f.prototype.blur=function(){"use strict";var a=this.refs.component;a&&typeof a.blur==="function"&&a.blur()};f.prototype.click=function(){"use strict";var a=this.refs.component;a&&typeof a.click==="function"&&a.click()};f.prototype.focus=function(){"use strict";var a=this.refs.component;a&&typeof a.focus==="function"&&a.focus()};f.prototype.$4=function(){"use strict";if(!h){b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){h=a},"addTextDelightInputImpl");return}var a=h.matchLastWord(this.props.editorState,this.props.delightFunnelID,c);this.props.onChange&&this.props.onChange(a)};f.prototype.componentWillUnmount=function(){"use strict";clearTimeout(this.$2)};f.prototype.render=function(){__p&&__p();var d;if(!b("TextDelightInComposerGating").isEnabled(c))return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));if(this.props.config&&this.props.config.actorConfig&&this.props.config.actorConfig.selectedActorID&&this.props.config.actorConfig.selectedActorID!==this.props.config.actorConfig.viewerAccountID)return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));var e=this.props.editorState,f=e.getDecorator();if(!b("TextDelightInComposerGating").isHighlightEnabled(c))return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));c===b("TextDelightSurface").COMMENT&&(f==null||((d=f)!=null?(d=d.__installedDecorators)!=null?d.textDelightsDecorator:d:d)!==!0)&&(e=b("EditorState").set(e,{decorator:new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"}),component:b("TextDelightSpan.react"),props:{triggerChange:this.$5}},f)}));return b("React").createElement(a,babelHelpers["extends"]({},this.props,{onChange:this.$3,editorState:e,handleKeyCommand:this.$1,ref:"component"}))};return f}()}.bind(this);e.exports=a}),null);
__d("ClickToMessengerGrowthTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccountID=function(a){this.$1.account_id=a;return this};a.prototype.setAdID=function(a){this.$1.ad_id=a;return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setBoostedComponentPlatform=function(a){this.$1.boosted_component_platform=a;return this};a.prototype.setBoostedComponentProduct=function(a){this.$1.boosted_component_product=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPostID=function(a){this.$1.post_id=a;return this};a.prototype.setProductType=function(a){this.$1.product_type=a;return this};a.prototype.setProducts=function(a){this.$1.products=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={account_id:!0,ad_id:!0,app_id:!0,boosted_component_platform:!0,boosted_component_product:!0,event:!0,page_id:!0,post_id:!0,product_type:!0,products:!0,vc:!0};e.exports=a}),null);
__d("SendGiftActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setExceptionMessage=function(a){this.$1.exception_message=a;return this};a.prototype.setExceptionType=function(a){this.$1.exception_type=a;return this};a.prototype.setGiftID=function(a){this.$1.gift_id=a;return this};a.prototype.setP2pTransactionID=function(a){this.$1.p2p_transaction_id=a;return this};a.prototype.setResponseCode=function(a){this.$1.response_code=a;return this};a.prototype.setSegmentID=function(a){this.$1.segment_id=a;return this};a.prototype.setStackTrace=function(a){this.$1.stack_trace=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={action:!0,exception_message:!0,exception_type:!0,gift_id:!0,p2p_transaction_id:!0,response_code:!0,segment_id:!0,stack_trace:!0,vc:!0};e.exports=a}),null);
__d("ReactComposerMediaFilePickerController.react",["fbt","Bootloader","ComposerTargetData","CurrentUser","FileInput.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=function(event){b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA),b("Bootloader").loadModules(["ReactComposerLoggingActions"],function(a){a.mediaUploadInputClicked(this.context.composerID,this.props.loggingName)}.bind(this),"ReactComposerMediaFilePickerController.react"),this.props.onClick&&this.props.onClick(event)}.bind(this),this.$2=function(event){__p&&__p();event.persist&&event.persist();var a=this.refs.fileInput.getFileInput();if(!this.$4(a.input.files)){b("Bootloader").loadModules(["Dialog"],function(c){var d=g._("Invalid file type"),e;a.input.files.length&&a.input.files[0].type?e=g._("{file type} is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:",[g._param("file type",a.input.files[0].type)]):e=g._("The file you selected is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:");var f;b("CurrentUser").isWorkUser()?f=new(b("URI"))().setProtocol("https").setDomain(document.location.hostname).setPath("/help/work/885144448260143").toString():f="https://www.facebook.com/help/218673814818907";var h=g._("What video file formats can I upload?");h=typeof h==="string"?h.replace(/\"/g,"&#39;"):"";h='<a href="'+f+'" title="'+h+'" target="_blank">'+f+"</a>";new c().setTitle(d).setButtons(c.OK).setBody(e.toString()+" "+h).setSemiModal(!0).show()},"ReactComposerMediaFilePickerController.react");this.props.onFilesSelected&&this.props.onFilesSelected(!1);return}b("Bootloader").loadModules(["ReactComposerPhotoUploader","ReactComposerMediaUtils","ReactComposerLoggingActions"],function(c,d,e){var f=d.handleSpecialMediaUpload(event,a,this.props.mediaConfig,this.context);this.props.onFilesSelected&&this.props.onFilesSelected(f);if(!f){c=new c(this.context,this.props.photoLimit,{disableFaceRecognition:this.props.disableFaceRecognition});!b("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,b("ReactComposerAttachmentType").MEDIA)&&!b("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,b("ReactComposerAttachmentType").TASK)&&b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,this.props.loggingName);d.uploadPhotosOrVideoFromTarget(this.context.composerID,event.target,c,this.props.targetData.targetSupportsMultiplePhotos,this.props.targetData.targetSupportsMultiMedia)}e.mediaUploadInputDone(this.context.composerID,this.props.loggingName);d.clearInput(a,!f)}.bind(this),"ReactComposerMediaFilePickerController.react")}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("FileInput.react"),{accept:this.$1(),containerClassName:this.props.containerClassName,multiple:this.props.targetData.targetSupportsMultiplePhotos,name:"composer_photo[]",display:this.props.display,onChange:this.$2,onClick:this.$3,ref:"fileInput",role:"button",tabIndex:"0","data-testid":this.props.webDriverTestID},this.props.children)};a.prototype.$1=function(){if(this.props.mediaAcceptParam)if(this.props.mediaType=="VIDEO")return this.props.mediaAcceptParam.videos;else if(this.props.mediaType=="PHOTO")return this.props.mediaAcceptParam.photos;else return this.props.mediaAcceptParam.both;return null};a.prototype.$4=function(a){if(!(this.props.mediaAcceptParam&&this.props.mediaAcceptParam.both))return!0;var b=this.props.mediaAcceptParam.both.replace(/,\s*/g,"|").replace(/\*/g,".*");b="^("+b+")$";b=new RegExp(b,"i");for(var c=0;c<a.length;++c)if(a[c].type&&!b.test(a[c].type))return!1;return!0};a.defaultProps={disableFaceRecognition:!1,display:"inline"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=Object.freeze({UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3});c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){__p&&__p();var a;g.constructor.call(this,function(){return{state:h.UNKNOWN}},function(c){switch(c.type){case b("ReactComposerMarkdownActionType").SHOW_INTERCEPT:a&&a.$ReactComposerMarkdownStore1(c);break;case b("ReactComposerMarkdownActionType").HIDE_INTERCEPT:a&&a.$ReactComposerMarkdownStore2(c);break;case b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:a&&a.$ReactComposerMarkdownStore3(c);break;case b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:a&&a.$ReactComposerMarkdownStore4(c);break}});a=this}a.prototype.showIntercept=function(a){return this.getComposerData(a).state===h.CHECKING};a.prototype.interceptAttempted=function(a){a=this.getComposerData(a);a=a.state;return a===h.ENABLED||a===h.DISABLED};a.prototype.isMarkdownEnabled=function(a){return this.getComposerData(a).state===h.ENABLED};a.prototype.$ReactComposerMarkdownStore1=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.CHECKING;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore2=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.UNKNOWN;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore3=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.ENABLED;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore4=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.DISABLED;this.emitChange(a)};e.exports=new a()}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ReactComposerMarkdownStore");a.prototype.showIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};a.prototype.hideIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};a.prototype.enableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};a.prototype.disableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};function a(){}e.exports=new a()}),null);
__d("CollectionThumbnail.react",["cssVar","cx","fbt","BackgroundImage.react","Focus","React","isKeyActivation","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){b("isKeyActivation")(a)&&(this.props.onClick&&this.props.onClick(a))}.bind(this),c}a.prototype.focus=function(){b("Focus").set(this.$1,!0)};a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_2vw6"),onClick:this.props.onClick,onKeyDown:this.$2,tabIndex:0,ref:function(a){return this.$1=a}.bind(this),role:"button"},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"cover",height:parseInt("140px",10),src:this.props.thumbnailURL,width:parseInt("140px",10)}),b("React").createElement("div",{className:"_3iom"},b("React").createElement("div",{className:"_3ion"},b("React").createElement(b("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_1x7m",height:12,src:this.props.privacyIcon,width:12}),this.props.collectionName),b("React").createElement("div",{className:"_3ioo"},i._({"*":"{number of posts} posts","_1":"1 post"},[i._plural(this.props.numPosts,"number of posts")]))))};a.propTypes={collectionID:c.oneOfType([c.string,c.number]).isRequired,collectionName:c.string.isRequired,className:c.string,numPosts:c.number.isRequired,onClick:c.func,thumbnailURL:c.string.isRequired,privacyIcon:c.string};e.exports=a}),null);
__d("ReactComposerCollectionsActions",["ReactComposerCollectionsActionTypes","ReactComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={showCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR})},hideCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},hideCollectionsSelectorWithoutLogging:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},showCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER})},hideCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER})},showSharingSpaceCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER})},hideSharingSpaceCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER})},spacesLoaded:function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED,spaceCount:d})}};e.exports=a}),null);
__d("ReactComposerCollectionSelector.react",["ix","cx","fbt","AccessibleLayer","CollectionThumbnail.react","ContextualLayer.react","ContextualLayerAutoFlip","Grid.react","ReactComposerAudienceActions","ReactComposerCollectionsActions","ReactComposerCollectionsStore","ReactComposerLoggingActions","ReactComposerLoggingName","InlineBlock.react","Image.react","LayerAutoFocus","LayerHideOnEscape","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerTabIsolation","Link.react","ShimButton.react","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","XUIPopoverButton.react","XUISpinner.react","ReactComposerContextTypes","React","ReactDOM","fbglyph","focusWithinLayer","ifRequired","isKeyActivation"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Grid.react").GridItem;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$3=function(){this.props.selectorVisible||b("ReactComposerCollectionsActions").showCollectionsSelector(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_BUTTON)}.bind(this),this.$4=function(a){b("isKeyActivation")(a)&&this.$5(a.nativeEvent)}.bind(this),this.$5=function(a){b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_CLEAR_BUTTON,null),a.stopPropagation()}.bind(this),this.$6=function(a,c){c===void 0&&(c=b("ReactComposerLoggingName").OTHERS),!a&&this.props.selectorVisible&&b("ReactComposerCollectionsActions").hideCollectionsSelector(this.context.composerID,c)}.bind(this),this.$7=function(){b("ReactComposerCollectionsActions").hideCollectionsSelectorWithoutLogging(this.context.composerID),b("ReactComposerCollectionsActions").showCreationLayer(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_CREATE_BUTTON)}.bind(this),c}a.prototype.componentDidUpdate=function(a,c){__p&&__p();if(this.props.selectorVisible&&!a.selectorVisible&&this.props.selectedCollectionID){c=b("ReactDOM").findDOMNode(this.refs[this.props.selectedCollectionID]);if(c!==null&&this.$1!==null){var d=b("ReactDOM").findDOMNode(this.$1);d!==null&&(d.scrollTop=c.offsetTop)}}if(a.collections&&a.collections.isLoading()&&this.props.collections&&!this.props.collections.isLoading()){d=b("ReactDOM").findDOMNode(this.$2);d&&b("focusWithinLayer")(d,!0)}};a.prototype.$8=function(){b("ReactComposerCollectionsActions").hideCreationLayer(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_CANCEL_BUTTON,!0),b("ReactComposerLoggingActions").collectionSelectorCancel(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_CANCEL_BUTTON)};a.prototype.$9=function(a){b("ReactComposerCollectionsStore").addNewAlbum(this.context.composerID,a),b("ReactComposerCollectionsActions").hideCreationLayer(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_SUBMIT_BUTTON),b("ReactComposerLoggingActions").collectionSelectorDone(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_SUBMIT_BUTTON),this.$10(a)};a.prototype.$10=function(a){a.id==this.props.selectedCollectionID?b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,null):b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,a.id,a.privacyLabel),this.$6(!1,b("ReactComposerLoggingName").COLLECTION_SELECTED),b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(this.context.composerID)}.bind(this))};a.prototype.$11=function(a){if(a==null)return null;a=b("ReactComposerCollectionsStore").getCollectionByID(this.context.composerID,a);return a?a.name:null};a.prototype.$12=function(a){if(a){a=this.$11(a);if(a)return a}return i._("+ Album").toString()};a.prototype.$13=function(){return b("React").createElement(b("ShimButton.react"),{className:(this.props.selectedCollectionID?"":"autofocus")+" _2vw6 _1xp0",key:"addAlbumButton",onClick:this.$7},b("React").createElement("div",{className:"_1xp2"},b("React").createElement("div",{className:"_1xp3"}),i._("Create Album")))};a.prototype.$14=function(){return b("React").createElement("div",{key:"albumsNullState",className:"_1d5t"},b("React").createElement("span",{className:"_1d5u"}),b("React").createElement("div",{className:"_1d5v"},i._("No albums to show")),b("React").createElement(b("XUIButton.react"),{label:i._("Create Album"),use:"confirm",onClick:this.$7}))};a.prototype.$15=function(){var a=this.props.collections&&this.props.collections.getValue(),b=this.$13();return!a||!a.albums||a.albums.length===0?this.$14():this.$16("albumsGrid",b,a.albums)};a.prototype.$16=function(a,c,d){c=[c];d&&c.push(d.map(function(a){return b("React").createElement(k,{ref:a.id,key:a.id,className:a.id===this.props.selectedCollectionID?"_5zfq":""},b("React").createElement(b("CollectionThumbnail.react"),{className:a.id===this.props.selectedCollectionID?"autofocus":"",collectionID:a.id,collectionName:a.name,numPosts:a.numPosts,onClick:function(){return this.$10(a)}.bind(this),thumbnailURL:a.thumbnailURL,privacyIcon:a.privacyIcon}))}.bind(this)));return b("React").createElement(b("Grid.react"),{key:a,className:"_1d5w",cols:2,fixed:!1},c)};a.prototype.$17=function(){if(!this.props.collections)return null;else return b("React").createElement(b("ContextualLayer.react"),{behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),onToggle:this.$6,position:"below",shown:this.props.selectorVisible},b("React").createElement(b("XUICard.react"),{className:"_5ze9"},b("React").createElement(b("XUICardHeader.react"),{className:"_5zea",type:"primary"},b("React").createElement(b("XUICardHeaderTitle.react"),null,i._("Albums"))),b("React").createElement(b("XUICardSection.react"),{ref:function(a){return this.$1=a}.bind(this),className:"_5zeh"},!this.props.collections||this.props.collections.isLoading()?b("React").createElement("div",{className:"_2n10"},b("React").createElement(b("XUISpinner.react"),{size:"large"})):b("React").createElement("div",{ref:function(a){return this.$2=a}.bind(this)},this.$15()))))};a.prototype.$18=function(){return null};a.prototype.$19=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.showAnyPostTypeNux,onCloseButtonClick:this.props.onAnyPostTypeNuxClose,position:this.props.alternateTriggerComponent?"below":"above"},i._("Now you can add posts, check-ins and more to albums"))};a.prototype.render=function(){var a=!!this.$11(this.props.selectedCollectionID);return b("React").createElement(b("InlineBlock.react"),{className:"uiContextualLayerParent"},this.props.alternateTriggerComponent?b("React").createElement(b("Link.react"),{role:"button",onClick:this.$3,ref:"collectionSelectorTrigger"},this.props.alternateTriggerComponent):b("React").createElement(b("XUIPopoverButton.react"),{className:"_5ze8",label:this.$12(this.props.selectedCollectionID),onClick:this.$3,ref:"collectionSelectorTrigger",use:"confirm",chevron:a?b("React").createElement(b("Image.react"),{onClick:this.$5,onKeyDown:this.$4,role:"button",src:g("114707"),tabIndex:0}):null}),this.$17(),this.$18(),this.props.onAnyPostTypeNuxVisible&&this.$19())};a.defaultProps={collections:null,creationLayerVisible:!1,selectedCollectionID:null,selectorVisible:!1,showAnyPostTypeNux:!1,onAnyPostTypeNuxVisible:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerCollectionSelectorContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerAudienceStore","ReactComposerCollectionSelector.react","ReactComposerCollectionsStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerSproutsDisplayState","ReactComposerStore","SimpleNUXMessage","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerCollectionSelectorContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAudienceStore"),b("ReactComposerCollectionsStore"))],propTypes:{alternateTriggerComponent:a.element,addAnyPostToAlbum:a.bool},statics:{calculateState:function(a,c,d){return{collections:b("ReactComposerCollectionsStore").getCollections(a),selectedCollectionID:b("ReactComposerAudienceStore").getCollectionID(a),isSelectorVisible:b("ReactComposerCollectionsStore").isSelectorVisible(a),isCreationLayerVisible:b("ReactComposerCollectionsStore").isCreationLayerVisible(a),showAnyPostTypeNux:c.addAnyPostToAlbum&&!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID)}}},_onAnyPostTypeNuxClose:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),this.setState({showAnyPostTypeNux:!1})},render:function(){return b("React").createElement(b("ReactComposerCollectionSelector.react"),{alternateTriggerComponent:this.props.alternateTriggerComponent,collections:this.state.collections,creationLayerVisible:this.state.isCreationLayerVisible,selectedCollectionID:this.state.selectedCollectionID,selectorVisible:this.state.isSelectorVisible,showAnyPostTypeNux:this.state.showAnyPostTypeNux,onAnyPostTypeNuxClose:this._onAnyPostTypeNuxClose,onAnyPostTypeNuxVisible:this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED})}});e.exports=c}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AsyncRequest"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this,b),this.$ReactComposerAsyncRequest1=a,g.setHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this)),g.setErrorHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this)),g.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest7.bind(this))}a.prototype.setHandler=function(a){"use strict";this.$ReactComposerAsyncRequest2=a;return this};a.prototype.setErrorHandler=function(a){"use strict";this.$ReactComposerAsyncRequest3=a;return this};a.prototype.setFinallyHandler=function(a){"use strict";this.$ReactComposerAsyncRequest4=a;return this};a.prototype.$ReactComposerAsyncRequest5=function(a){"use strict";__p&&__p();var c=this.$ReactComposerAsyncRequest8(a);if(c){this.$ReactComposerAsyncRequest9(a);return}setTimeout(function(){var c=a.payload&&a.payload.isPostPending;c||b("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest6=function(a){"use strict";var b=this.$ReactComposerAsyncRequest8(a);if(b){this.$ReactComposerAsyncRequest9(a);return}this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest8=function(a){"use strict";return a.payload&&a.payload.errors&&a.payload.errors[0]};a.prototype.$ReactComposerAsyncRequest9=function(a){"use strict";var c=this.$ReactComposerAsyncRequest8(a);a=new(b("AsyncResponse"))(a.getRequest(),a);a.errorSummary=c?c.summary:null;a.errorDescription=c?c.description:null;a.silentError=c&&c.is_silent;a.transientError=c&&c.is_transient;this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest10=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest7=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest4&&this.$ReactComposerAsyncRequest4(a)}.bind(this),0)};e.exports=a}),null);
__d("ClickToMessengerAdsCreationFlowEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT_TO_SMCTA_MESSAGING_LINKS:"default_to_smcta_messaging_links",DEFAULT_TO_SMCTA_REGEX_MODEL:"default_to_smcta_regex_model",DEFAULT_TO_SMCTA_V1_DEEP_TEXT_MODEL:"default_to_smcta_v1_deep_text_model",DEFAULT_TO_MESSAGES_POST_CONTAIN_SMCTA:"default_to_messages_post_contain_smcta",DEFAULT_TO_MESSAGES_DEFAULT_SMCTA:"default_to_messages_default_smcta",DEFAULT_FOR_DATA_COLLECTION:"default_to_data_collection",LWI_MESSAGES_UPSELL_SELECT_SMCTA:"lwi_messages_upsell_select_smcta",LWI_MESSAGES_UPSELL_SELECT_NON_SMCTA:"lwi_messages_upsell_select_non_smcta",LWI_MESSAGES_UPSELL_SELECT_MESSAGES_OBJECTIVE:"lwi_messages_upsell_select_messages_objective",LWI_MESSAGES_UPSELL_SELECT_NON_MESSAGES_OBJECTIVE:"lwi_messages_upsell_select_non_messages_objective",LWI_MESSAGES_UPSELL_CLICK_UPDATE_OBJECTIVE:"lwi_messages_upsell_click_update_objective",LWI_MESSAGES_UPSELL_RENDERED:"lwi_messages_upsell_rendered",PREDICTOR_SERVICE_ERROR:"predictor_service_error",CREATE_MULTI_PHOTO_POST_WITH_CTA:"create_multi_photo_post_with_cta",ADD_CTA_FOR_PRODUCT_TAGGING:"add_cta_for_product_tagging"})}),null);
__d("PagesCrosspostChannel",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP:"group",INSTAGRAM:"instagram"})}),null);
__d("SendGiftActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCEPT_AFTER_ADD_CARD:"accept_after_add_card",ACCEPT_MONEY_TRANSFER:"accept_money_transfer",ADD_CARD:"add_card",ADD_CARD_REDIRECT:"add_card_redirect",CANCEL:"cancel",CANCEL_SCHEDULED:"cancel_scheduled",CANCEL_STOPPED:"cancel_stopped",CLICK_ACCEPT:"click_accept",CLICK_CANCEL_BUTTON:"click_cancel_button",CLICK_CREATE_BUTTON:"click_create_button",CLICK_GLYPH:"click_glyph",CLICK_PAY_BUTTON:"click_pay_button",CLICK_POST_BUTTON:"click_post_button",CLICK_SEE_DETAILS:"click_see_details",CREATE_GIFT:"create_gift",OPEN:"open",PROCESS_PAY:"process_pay",REOPEN:"reopen",START_TO_CANCEL:"start_to_cancel"})}),null);
__d("XComposerXMediaInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/intercept/media/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/markdown_intercept/media/",{xhpc_composerid:{type:"String",required:!0},markdown_enabled:{type:"Bool",defaultValue:!1},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/intercept/status/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/find_players/save/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/grouptask/save/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/marketplace/create_post/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:!0}})}),null);
__d("XPagesComposerCustomCTAPublishAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/react_composer/cta/publish/",{message:{type:"String"},photo_id:{type:"FBID"},video_id:{type:"FBID"},cta_data:{type:"HackType"},referrer:{type:"String"},schedule_time:{type:"Int"},draft:{type:"Bool",defaultValue:!1},start_time:{type:"Int"},boosted_post_config:{type:"String"},raw_data:{type:"HackType"},use_premade_video:{type:"Bool",defaultValue:!1},offer_data:{type:"HackType"}})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sales_promo/create/",{availability_location:{type:"Enum",required:!0,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:!0},group_id:{type:"FBID"},owner_id:{type:"FBID",required:!0},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:!1},video_ids:{type:"FBIDVector"},promotion_value:{type:"Float"}})}),null);
__d("XSendGiftCreationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/send_gift/creation/checkout/",{photo_id:{type:"Int"},message:{type:"String"},amount:{type:"Int"},credential_id:{type:"Int"},target_id:{type:"Int"},tagged_ids:{type:"FBIDVector"},xhpc_composerid:{type:"String"}})}),null);
__d("XSendGiftSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/redenv/save/",{xhpc_targetid:{type:"Int",required:!0},xhpc_composerid:{type:"String",required:!0},composer_attachment_message:{type:"String"},distribution:{type:"String",required:!0},total_amount:{type:"Int",required:!0},number_of_envelopes:{type:"Int",required:!0}})}),null);
__d("ReactComposerPostUtils",["fbt","invariant","ActorURI","Arbiter","BanzaiODS","Bootloader","ClickToMessengerAdsCreationFlowEventType","ClickToMessengerGrowthTypedLogger","ComposerEntryPointRef","ComposerPublisher","ComposerSourceSurface","DateConsts","DOM","HTML","PagesCrosspostChannel","PagesProfilePictureActions","PagesStoryCreationStatusTypes","React","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoryArchiveIntroductionDialogGatedModule","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVerticalsConstants","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","ReactDOM","SendGiftActionType","SendGiftActionTypedLogger","SharesheetDestination","SimpleXUIDialog","TQBotDetectionProductEnum","URI","VideoEditSource","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XGamesFindPlayersSaveController","XGroupTaskSaveController","XMarketplaceCreatePostController","XPagesComposerCustomCTAPublishAsyncController","XSalesPromoCreateAsyncController","XSendGiftCreationController","XSendGiftSaveController","XVideoEditDialogSaveController","curry","dotAccess","formatDate","getByPath","ifRequired","textProbablyWritingMarkdown","uuid"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("PagesProfilePictureActions").updateProfilePictureStory,j=b("ReactComposerStoryArchiveIntroductionDialogGatedModule").module,k=b("ReactComposerVerticalsConstants").VerticalConfigs;a=b("ReactComposerWorkFileStore").module;var l=!!a,m=a||b("ReactComposerFileStore"),n=!0;c={publish:function(a,c){b("ReactComposerActions").publishStarted(a),c=c||{},c.composer_id=a,c.streamNode?c.streamStory=c.streamNode:c.streamMarkup&&(c.streamStory=b("HTML")(c.streamMarkup).getRootNode()),c.contentID&&(c.matchData={content_id:c.contentID}),b("Arbiter").inform("composer/publish",c)},isPostButtonDisabled:function(a,c){c=b("ReactComposerPhotoStore").isLimitExceeded(a,c);var d=b("ReactComposerMediaUploadStore").isUploading(a),e=b("ReactComposerPhotoStore").isRecognizing(a),f=!!b("ReactComposerVideoUploadStore").getVideo(a)&&b("ReactComposerStore").isPosting(a);a=b("ReactComposerPhotoStore").isSphericalPhotoUpdating(a);return c||d||e||f||a},_getIsOnMediaAttachment:function(a){var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);a=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,b("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return c||a},_setupGenericDataFromStore:function(a,c,d,e){b("ifRequired")("ReactComposerStatusDonateButtonStore",function(b){b.getEnabled(c)&&Object.assign(a,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:b.getFundraiserCampaignID(c),link_title:b.getTitle(c),link_description:b.getDescription(c)}}})}),b("ifRequired")("ReactComposerCTAStore",function(f){f=f.getCTAData(c);f&&f.type==="MESSAGE_PAGE"&&(b("ReactComposerMediaUploadStore").getUploadsCount(c,b("ReactComposerMediaUploadType").PHOTO)>1?(new(b("ClickToMessengerGrowthTypedLogger"))().setEvent(b("ClickToMessengerAdsCreationFlowEventType").CREATE_MULTI_PHOTO_POST_WITH_CTA).setPageID(d).log(),e&&Object.assign(a,{cta_data:f})):Object.assign(a,{cta_data:f}))})},_setupDataForPlaceListAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").PLACE_LIST);d&&b("ifRequired")("ReactComposerPlaceListStore.react",function(b){Object.assign(a,{is_placelist_post:!0,placelist_within_page:b.getPageID(c),should_redirect_place_list_on_create:b.getShouldRedirectOnCreate(c)}),b.getGroupID(c)&&Object.assign(a,{target_id:b.getGroupID(c),xhpc_targetid:b.getGroupID(c)})})},_setupDataForFormattedText:function(a,c){b("ifRequired")("ReactComposerFormattedTextStore",function(b){b=b.getTextFormatPresetID(c);b&&Object.assign(a,{text_format_preset_id:b})}),b("ifRequired")("ReactComposerPromptsStore",function(b){b=b.getMemeCategoryID(c);b&&Object.assign(a,{meme_category_id:b})})},_setupDataForCTAAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerCTAStore",function(a){Object.assign(c,{cta_data:a.getCTAData(d)})})},_setupDataForOnSaleAttachment:function(a,c,d){a&&(b("ifRequired")("ReactComposerSellStore",function(a){Object.assign(c,{composer_attachment_sell_title:a.getTitleText(d),composer_attachment_sell_price:a.getPrice(d),composer_attachment_sell_price_type:a.getPriceType(d),composer_attachment_sell_currency:a.getCurrency(d),composer_attachment_sell_quantity:a.getQuantity(d),composer_attachment_sell_condition:a.getConditionID(d),composer_attachment_sell_category:a.getCategoryID(d),composer_attachment_sell_location_page_id:a.getLocationID(d),composer_attachment_sell_pickup_note:a.getPickupNoteText(d),post_to_marketplace:a.isNearbyLocationChecked(d),cross_post_checked:a.isCrossPostChecked(d),composer_attachment_sell_audience_target_ids:Array.from(a.getAudienceTargetIDs(d)).join(",")})}),b("ifRequired")("ReactComposerAutosSellStore.react",function(a){k.AUTOS.categoryIds.includes(c.composer_attachment_sell_category)&&Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)})}),b("ifRequired")("ComposerRealEstateSellStore",function(a){k.REAL_ESTATE.categoryIds.includes(c.composer_attachment_sell_category)&&Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)})}))},_setupDataForGroupMeetupAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").GROUP_MEET_UP);d&&Object.assign(a,b("ReactComposerPostDataUtils").getGroupMeetupData(c))},_setupDataForPageRecommendationAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").PAGE_RECOMMENDATION);d&&b("ifRequired")("ReactComposerPageRecommendationStore.react",function(b){if(b.getRecommendationType(c)){var d=b.getTags(c),e=b.getTagEntryPoint(c),f=[];d.forEach(function(a,b){a.selected===!0&&f.push({id:a.value,entry_point:e})});Object.assign(a,{page_recommendation:{page_id:b.getPageID(c),rec_type:b.getRecommendationType(c),attached_tags:f}})}else Object.assign(a,{page_recommendation_ids:[b.getPageID(c)]})})},_setupDataForPremadePost:function(a,b){a=a.composerConfig.pagePremadePostData;a&&Object.assign(b,{page_premade_post:a})},_setupDataForGIFAttachment:function(a,b){a&&Object.assign(b,{animated_image:a})},_setupDataForGroupLearningCourseAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerGroupLearningCourseStore",function(a){Object.assign(c,{module_name:a.getModuleName(d),target_id:a.getGroupID(d),xhpc_composerid:d,xhpc_targetid:a.getGroupID(d),xhpc_learning_course:!0,xhpc_mentorship_mentor_prompt:a.getMentorPrompt(d),xhpc_mentorship_mentee_prompt:a.getMenteePrompt(d),xhpc_mentorship_post_offset:a.getScheduledPostOffset(d),xhpc_unit_id:a.getUnitID(d)})})},_setupDataForLearningCourse:function(a,c,d){var e=b("ReactComposerAttachmentStore").getAttachment(d,b("ReactComposerAttachmentType").LEARNING_COURSE);if(a&&e){a=new(b("URI"))(window.location.href).getQueryData().filter;e=m.getSelectedFileName(d);a&&Object.assign(c,{xhpc_unit_id:a,xhpc_learning_course:!0,module_name:e?e:"New file"})}},_setupDataForLearningLinkAttachment:function(a,c,d,e){a&&b("ifRequired")("ReactComposerLearningLinkStore",function(a){Object.assign(c,{module_name:a.getTitleText(d),learning_link_link:a.getLink(d),xhpc_composerid:d,xhpc_targetid:e,xhpc_learning_course:!0,xhpc_learning_link:!0,xhpc_unit_id:new(b("URI"))(window.location.href).getQueryData().filter,xhpc_message:b("ReactComposerStatusStore").getMessageText(d)})})},_setupDataForLivingRoomAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LIVING_ROOM);c&&b("ifRequired")("LivingRoomComposerStore",function(b){var c=b.getLivingRoomID();c&&Object.assign(a,{living_room_attachment:{group_id:b.getGroupID(),living_room_id:c}})})},_setupDataForScheduledLivingRoomAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LIVING_ROOM);c&&b("ifRequired")("LivingRoomComposerStore",function(b){b=b.getScheduledLivingRoomID();b&&Object.assign(a,{scheduled_living_room:{scheduled_living_room_id:b}})})},_setupDataForLocalDevPlatformAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM);d&&b("ifRequired")("ReactComposerLocalDevPlatformStore",function(b){var d=b.getAppConfigID(c),e=b.getPhotoID(c);b=b.getPageID(c);Object.assign(a,{local_dev_platform_app_instance:{ldp_app_config_id:d,photo_id:e,page_id:b}})})},_setupDataForCivicCTAAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").CIVIC_CTA);d&&b("ifRequired")("ReactComposerCivicCTAStore",function(b){var d={goal:b.getGoal(c),rep_id:b.getSelectedRep(c).getUniqueID()};b.getDeadline(c)&&(d.deadline=b.getDeadline(c));Object.assign(a,{action_post_attachment_data:d})})},_setupDataForDetectionAnalyticsData:function(a,c){if(a.attachment&&a.attachment.params){c=String(b("uuid")());Object.assign(a,{detection_analytics_data:{detection_id:c,device_advertising_id:null,product_id:String(b("TQBotDetectionProductEnum").FB_WEB_SHARE)}})}},_postForSendGift:function(a){__p&&__p();var c=b("ReactComposerPostDataUtils").getPostData(a),d=a.composerID;b("ifRequired")("ReactComposerSendGiftStore",function(a){Object.assign(c,{composer_attachment_message:b("ReactComposerStatusStore").getMessageText(d),message:b("ReactComposerStatusStore").getMessage(d),type:a.getType(d),theme:a.getTheme(d),total_amount:a.getTotalIntAmount(d),credential_id:a.getCredentialId(d),distribution:a.getDistribution(d),number_of_envelopes:a.getNumberOfEnvelopes(d)})});if(c.type==="v1")return b("XSendGiftSaveController").getURIBuilder().setString("composer_attachment_message",c.composer_attachment_message).setString("distribution",c.distribution).setInt("total_amount",c.total_amount).setInt("number_of_envelopes",c.number_of_envelopes).setInt("xhpc_targetid",a.targetID).setString("xhpc_composerid",a.composerID).getURI();else{new(b("SendGiftActionTypedLogger"))().setAction(b("SendGiftActionType").CLICK_POST_BUTTON).log();var e=b("ReactComposerTaggerStore").getTaggerData(d,b("ReactComposerTaggerType").PEOPLE);e=e.map(function(a){return a.getUniqueID()});return b("XSendGiftCreationController").getURIBuilder().setString("message",c.composer_attachment_message).setInt("amount",c.total_amount).setInt("credential_id",c.credential_id).setInt("photo_id",c.theme).setInt("target_id",a.targetID).setFBIDVector("tagged_ids",e).setString("xhpc_composerid",a.composerID).getURI()}},_onMessengerSuccess:function(a,c){b("Bootloader").loadModules(["FantaTabActions"],function(b){a.getThreadIDs().forEach(function(a){return b.openTab(a)})},"ReactComposerPostUtils")},_onStorySuccess:function(a){n&&j&&(b("ReactDOM").render(b("React").createElement(j,null),b("DOM").create("div")),n=!1);a=b("dotAccess")(a,"request.data.variables","{}");var c=JSON.parse(a);c&&((a=c)!=null?(a=a.input)!=null?a.composer_source_surface:a:a)===b("ComposerSourceSurface").PAGE&&i(b("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS);c&&((a=c)!=null?(a=a.input)!=null?a.composer_entry_point:a:a)===b("ComposerEntryPointRef").PAGES_FEED?b("Bootloader").loadModules(["FBStoriesDataHelper"],function(a){a.loadPageBucketData(c.actor_id)},"ReactComposerPostUtils"):b("Bootloader").loadModules(["FBStoriesDataHelper","FBStoriesTrayInit","FBStoriesProductionActions"],function(a,b,c){c.setUserBucketUploadStatus(!1),a.loadData(),b.renderReactTray()},"ReactComposerPostUtils")},_onInstagramSuccess:function(a){if(a.payload.success&&!a.payload.media_link)return;b("Bootloader").loadModules(["ReactCrossPostingConfirmationDialogContainer.react"],function(c){b("ReactDOM").render(b("React").createElement(c,{media_channel:b("PagesCrosspostChannel").INSTAGRAM,media_link:a.payload.media_link,success:a.payload.success}),b("DOM").create("div"))},"ReactComposerPostUtils")},_shouldSendPayloadToVideoUploadController:function(a,c,d,e){if(e!=="page"||a!==d)return!1;e=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").MEDIA);a=b("ReactComposerMediaUploadStore").getUploadsCount(c,b("ReactComposerMediaUploadType").VIDEO)===1;return e&&a},_getSomethingWentWrongDialog:function(a,c){return b("Bootloader").loadModules(["XUIDialogButton.react"],function(d){b("SimpleXUIDialog").showEx(c,a,b("React").createElement(d,{action:"cancel",use:"confirm",label:g._("Close")}))},"ReactComposerPostUtils")},post:function(a){__p&&__p();!a.actorID&&h(0,5899);!a.composerConfig&&h(0,5900);!a.composerConfig.contextInfo&&h(0,5901);!a.composerID&&h(0,5902);!a.targetID&&h(0,5903);var c=a.actorID,d=a.composerID,e=a.targetID,f=a.targetType,i=!1,j=!1,k=!1,n=b("ReactComposerAudienceStore").getNoDestinationSelected(d);if(n){b("BanzaiODS").bumpEntityKey("composer.destination_picker","error_no_destination");this._getSomethingWentWrongDialog(g._("Oops"),g._("Something went wrong. We're working on getting it fixed as soon as we can."));return}n=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").IG_PHOTO_REMINDER);var o=this._getIsOnMediaAttachment(d),p=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QANDA),q=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FILE),r=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QUESTION),s=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SEND_GIFT),t=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SELL)||b("ifRequired")("ReactComposerSellStore",function(a){return a.getInterceptSell(d)},function(){return!1}),u=!1;b("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){u=a.isCTAAttachmentSelected(d)});var v=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").TASK),w=b("ReactComposerSlideshowStore").isSlideshowSelected(d),x=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").PROFILE_PIC_FRAME),y=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QA),z=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FIND_PLAYERS),A=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_COURSE),B=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),C=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SALES_PROMO),D=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_THIRD_PARTY_LINK),E=a.composerConfig.attachmentsConfig||{};E=E[b("ReactComposerAttachmentType").STATUS]||{};var F=b("ifRequired")("ReactComposerSellStore",function(a){return a.showURLIntercept(d)},function(){return!1});F=E.attemptIntercept&&E.sellIntercept&&!t&&!F;var G=b("ReactComposerPostDataUtils").getPostData(a),H=Boolean(b("getByPath")(a,["composerConfig","taggersConfig",b("ReactComposerTaggerType").MESSAGING,"enableSMCTAForMultiPhoto"]));this._setupGenericDataFromStore(G,d,a.targetID,H);H=b("ReactComposerVideoUploadStore").getVideo(d);if(o&&!!H){var I=b("ReactComposerVideoUploadStore").getUploader(d);I&&I.uploadFromFile(H.file,G);return}I=l?m.hasFile(d):m.isFileSelected(d);H=b("ReactComposerTaggerStore").getTaggerData(d,b("ReactComposerTaggerType").GIF).gifData;var J,K=b("ReactComposerMediaUploadStore").getUploads(d);this._setupDataForFormattedText(G,d);this._setupDataForOnSaleAttachment(t,G,d);this._setupDataForCTAAttachment(u,G,d);this._setupDataForPlaceListAttachment(G,d);this._setupDataForGroupMeetupAttachment(G,d);this._setupDataForPageRecommendationAttachment(G,d);this._setupDataForPremadePost(a,G);this._setupDataForGIFAttachment(H,G);this._setupDataForLearningCourse(q,G,d);this._setupDataForGroupLearningCourseAttachment(A,G,d);this._setupDataForLearningLinkAttachment(D,G,d,a.targetID);this._setupDataForLivingRoomAttachment(G,d);this._setupDataForScheduledLivingRoomAttachment(G,d);this._setupDataForLocalDevPlatformAttachment(G,d);this._setupDataForCivicCTAAttachment(G,d);this._setupDataForDetectionAnalyticsData(G,d);H=K.size>0;n=n||o||p||t||A||v||D;o=w||n&&H;p=b("ifRequired")("PagesComposerBoostedPostsStore",function(a){return a.getConfig(d)},function(){return null});E.attemptMarkdownIntercept&&a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]&&(a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=G.is_markdown);A=G.blocks;var L=E.attemptMarkdownIntercept&&!t&&!A&&!G.is_markdown;b("ifRequired")("ReactComposerMarkdownStore",function(a){L=L&&!a.interceptAttempted(d)});if(!o&&L&&b("textProbablyWritingMarkdown")(b("ReactComposerStatusStore").getMessageText(d))){setTimeout(function(){return b("ReactComposerActions").postFinally(d,null)},0);b("ReactComposerMarkdownActions").showIntercept(d);return}D=b("ifRequired")("ReactComposerSellStore",function(a){return a.getPostDirectlyToMarketplace(d)},function(){return!1});var M=null;if(r||y){w=b("ReactComposerStore").getRef(d);switch(w){case b("ComposerEntryPointRef").GROUP:M="group";break;case b("ComposerEntryPointRef").EVENT:case b("ComposerEntryPointRef").EVENT_ABOUT:M="event";break;case b("ComposerEntryPointRef").PAGES_FEED:M="composer";break;default:M=w}}n=b("ifRequired")("PagesComposerUnpublishedPostsStore",function(b){return b.getScheduledPublishTime(a.composerID)},function(){return null});n=n?Math.round(n.getTime()/1e3):null;var N;if(v)J=b("XGroupTaskSaveController").getURIBuilder().getURI(),b("ifRequired")("ReactComposerTaskStore",function(a){Object.assign(G,a.getTaskData(d)),b("ifRequired")("GroupTaskLoggedAction",function(a){Object.assign(G,{action_to_be_logged:a.CREATE_TASK})})});else if(o)N=b("ReactComposerPostDataUtils").getMediaUploadsData(d,K),Object.assign(G,N),F?J=b("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():L?J=b("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setBool("markdown_enabled",G.is_markdown).getURI():D?J=b("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():(j=b("ComposerPublisher").getShouldUseGraphQLForMedia(c,G,a.composerID),J=new(b("URI"))("/media/upload/photos/composer/"));else if(q&&I)J=new(b("URI"))(m.getURI(d));else if(r)J=new(b("URI"))("/ajax/questions/save.php"),b("ifRequired")("ReactComposerQuestionStore",function(a){var c=a.getOptionStrings(d),e=a.getOptionImageIndices(d);Object.assign(G,{composerAttachmentQuestion:b("ReactComposerStatusStore").getMessage(d),question_options:c,question_option_image_indices:e,source:M,create_eigenpoll:a.canChooseMultiplePollOptions(d),anyone_add_options:a.canAnyoneAddPollOptions(d)})}),Object.assign(G,b("ReactComposerPostDataUtils").getMediaUploadsData(d,K));else if(u&&G.attachment.params.allowMultiMedia)k=b("ComposerPublisher").getShouldUseGraphQLForPageCTA(c,G),J=b("XPagesComposerCustomCTAPublishAsyncController").getURIBuilder().setString("message",G.xhpc_message_text).setHackType("cta_data",G.cta_data).setFBID("photo_id",G.attachment.photoID).setFBID("video_id",G.attachment.videoID).setString("boosted_post_config",p).setHackType("raw_data",G).setInt("schedule_time",n).setBool("use_premade_video",G.attachment.usingPremadePostVideo).getURI();else if(s)J=this._postForSendGift(a);else if(t)J=new(b("URI"))("/ajax/groups/sell/save.php");else if(x){var O,P;b("ifRequired")("ReactComposerProfilePictureFrameStore",function(a){O=a.getSelectedOverlayID(d),P=a.getScheduledPostDate(d),N=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getCroppedPhotoForUpload(d))});var Q,R,S;H=!1;if(P){Q=b("formatDate")(P,"m/d/Y",{skipPatternLocalization:!0});E=P.getHours()*b("DateConsts").MIN_PER_HOUR+P.getMinutes();R=b("DateConsts").SEC_PER_MIN*E;S=P.getTime()/1e3;H=!0}J=new(b("URI"))("/media/upload/photos/composer/");Object.assign(G,babelHelpers["extends"]({},N,{scheduled:H,sticker_id:O,future_date:Q,future_time:R,scheduled_publish_time:S}))}else if(y)b("ifRequired")("ReactComposerGroupQAStore",function(a){J=new(b("URI"))("/group_qa/save/"),Object.assign(G,{composer_question_title:a.getTitle(d),composer_question_description:a.getDescription(d),source:M})}),Object.assign(G,b("ReactComposerPostDataUtils").getMediaUploadsData(d,K));else if(C)b("ifRequired")("ReactComposerSalesPromoStore",function(a){Object.assign(G,{availability_location:a.getAvailabilityLocation(d),description:a.getDescription(d),destination_uri:a.getDestinationURI(d),discount_code:a.getDiscountCode(d),expiration_time:a.getExpirationTime(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,K).composer_unpublished_photo,terms_and_conditions:a.getTermsAndConditions(d)})}),J=b("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",G.availability_location).setString("description",G.description).setString("destination_uri",G.destination_uri).setString("discount_code",G.discount_code).setInt("expiration_time",G.expiration_time).setFBID("group_id",a.targetID).setFBID("owner_id",c).setFBIDVector("photo_ids",G.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",G.terms_and_conditions).getURI(),Object.assign(G,b("ReactComposerPostDataUtils").getMediaUploadsData(d,K));else if(z)b("ifRequired")("ReactComposerFindPlayersStore",function(a){J=new(b("URI"))(b("XGamesFindPlayersSaveController").getURIBuilder().getURI()),Object.assign(G,{composer_find_players_title:a.getTitle(d),composer_find_players_tags:a.getTags(d),composer_find_players_name:a.getName(d),composer_find_players_description:b("ReactComposerStatusStore").getMessage(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,K).composer_unpublished_photo})});else if(B){var T,U=!0;b("ifRequired")("ReactComposerMediaEffectShareStore",function(a){__p&&__p();N=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getEffectPhotoForUpload(d));var c=a.getComposerData(d).effectStatus;T=a.getEffectToApply(d);c==="active"&&(U=!1);c=a.getUploadedVideoID(d);if(c){Object.assign(G,{draft:U});a.postVideo(d,G);return}});J=new(b("URI"))("/media/upload/photos/composer/");Object.assign(G,babelHelpers["extends"]({},N,{scheduled:!1,sticker_id:T,draft:U}))}else if(G.attachment&&G.attachment.params.canvas_video){J=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",G.attachment.params.canvas_video.video_id).getURI();A=n===null&&!G.draft;Object.assign(G,G.attachment.params.canvas_video);Object.assign(G,{description:G.xhpc_message,is_canvas_video:!0,publish:A,scheduled_publish_time:n,source:b("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var V={content_id:G.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:!1,scraped_url:G.attachment.params.url,target_id:a.targetID};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(V)})}else if(G.attachment&&G.attachment.params.carousel_video_lpp){J=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",G.attachment.params.carousel_video_lpp.video_id).getURI();w=n===null&&!G.draft;Object.assign(G,G.attachment.params.carousel_video_lpp);Object.assign(G,{description:G.xhpc_message,scheduled_publish_time:n,publish:w,source:b("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var W={child_attachments:G.attachment.params.child_attachments,event:"publish",target_id:a.targetID,content_id:G.attachment.params.carousel_video_lpp.video_id,is_old_composer:!1,scraped_url:G.attachment.params.url};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(W)})}else F?J=b("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():(i=b("ComposerPublisher").getShouldUseGraphQLForStatus(c,G),J=new(b("URI"))("/ajax/updatestatus.php"));v=J;o=!1;b("ifRequired")("ReactComposerVideoXEditDialogStore",function(e){__p&&__p();o=e.hasSelectedCustomThumbnails(a.composerID);if(o){var f=K.map(function(a){return a.id}),g=e.getThumbnailTypes(f.toArray(),a.composerID),h={};K.forEach(function(a){return h[a.id]=a.photoID});var i={};for(var g=g,j=Array.isArray(g),k=0,g=j?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=g.length)break;l=g[k++]}else{k=g.next();if(k.done)break;l=k.value}l=l;var n=l[0];l=l[1];i[h[n]]=l}Object.assign(G,{thumb_types:i});n=e.getUploadsWithTextOnThumbnail(f.toArray(),a.composerID);l=[];for(var k=n,j=Array.isArray(k),g=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(g>=k.length)break;i=k[g++]}else{g=k.next();if(g.done)break;i=g.value}n=i;l=l.concat(h[n])}Object.assign(G,{videos_with_text_thumbnails:l});var p=b("ReactComposerPostDataUtils").createFormData(G);e.getThumbnails(f.toArray(),a.composerID).then(function(e){e.forEach(function(a){p.append("thumb"+h[a[0]],a[1])});if(q&&m.hasFile(d)){e=m.getFile(d);p.append("file1",e)}e=b("ActorURI").create(J,c);e=new(b("ReactComposerAsyncRequest"))(a.composerID,e).setRawData(p).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);e.send()}).done()}});J===v||h(0,5904);b("ReactComposerAudienceStore").getStoriesSelected(a.composerID)&&(G.is_also_posting_video_to_feed=b("ReactComposerAudienceStore").getTimelineSelected(a.composerID),b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:this._onStorySuccess}),G,{type:b("SharesheetDestination").STORIES}));if(b("ReactComposerAudienceStore").getInstagramSelected(a.composerID)){D=b("ReactComposerAudienceStore").getInstagramBusinessAccountID(d);D&&(G.instagram_business_account_id=D)}if(b("ReactComposerAudienceStore").getAdsPePostSelected(a.composerID)){I=b("ActorURI").create(J,c);r=new(b("ReactComposerAsyncRequest"))(a.composerID,I).setData(G).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);r.send();return}b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID).isEmpty()||b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:b("curry")(this._onMessengerSuccess,b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID))}),G,{type:b("SharesheetDestination").MESSENGER,messenger_ids:b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID)});if(!b("ReactComposerAudienceStore").getTimelineSelected(a.composerID))return;if(this._shouldSendPayloadToVideoUploadController(c,d,e,f)){b("ifRequired")("VideoComposerDialogUploadUtils",function(a){a.doPostFromPagesComposer(G)});return}if(i||j||k){b("ComposerPublisher").publish(a,G,{type:b("SharesheetDestination").TIMELINE});return}G.delight_ranges&&Object.assign(G,{delight_ranges:JSON.stringify(G.delight_ranges)});if(!o){p=b("ActorURI").create(J,c);s=new(b("ReactComposerAsyncRequest"))(a.composerID,p).setData(G).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);if(q&&m.hasFile(d)){t=m.getFile(d);x=new FormData();x.append("file1",t);s.setRawData(x)}s.send()}}};e.exports=c}),null);